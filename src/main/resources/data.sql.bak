DROP DATABASE IF EXISTS CHAT_DB;

CREATE DATABASE IF NOT EXISTS CHAT_DB;

USE DATABASE CHAT_DB;

CREATE TABLE IF NOT EXISTS CHAT_DB.CHAT_USER	(
	USER_ID SERIAL  NOT NULL PRIMARY KEY, 
	USER_NAME VARCHAR(255),
	PASSWORD VARCHAR(255)	
)

CREATE TABLE  IF NOT EXISTS CHAT_DB.CHAT_ROLE	(
	ROLE_ID SERIAL  NOT NULL PRIMARY KEY, 
	ROLE_NAME VARCHAR(255) NOT NULL
)

CREATE TABLE IF NOT EXISTS CHAT_DB.CHAT_USER_ROLE	(
	USER_ROLE_ID SERIAL NOT NULL PRIMARY KEY, 
	USER_ID INTEGER REFERENCES CHAT_USER,
	ROLE_ID INTEGER REFERENCES LIBRARY_ROLE
)

CREATE TABLE IF NOT EXISTS CHAT_DB.CHAT_MESSAGE	(
	MESSAGE_ID SERIAL  NOT NULL PRIMARY KEY, 
	MESSAGE_TEXT TEXT NOT NULL,
        USER_ID INTEGER REFERENCES CHAT_USER,
	MESSAGE_DATE VARCHAR(255) NOT NULL
)